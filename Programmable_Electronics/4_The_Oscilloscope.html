<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1" />
 <link rel="stylesheet" href="polycop.css" />
 <title>The Oscilloscope</title>
</head>
<body>
<div class="large">
<center>
<h1>4. The Oscilloscope</h1>
</center>
<p>The oscilloscope is an measurement instrument, the purpose of which is to display a signal as a function of time.<br>
Before it became available, such displays could be obtained by mechanical or electro-mechanical instruments like the analog pen plotter and the oscillograph.<br>
The invention of the cathode ray tube (CRT) allowed to build an electronic instrument with a much wider bandwidth : the oscilloscope.</p>

<img src="crt_oscilloscope_diagram.png">
<ul><li>the vertical axis "Y" displays the value of the amplified input voltage, with a precise scale (Volts/division)</li>
<li>the horizontal axis "X", being driven by a ramp signal, represents the time with a precise scale (seconds/division)<br>
the periodic ramp signal must be synchonized with the input signal in order to maintain a readable image</li>
</ul> 
<p>Basic CRT oscilloscope could display only periodic signal due to their lack of memory.<br>
Storage oscilloscope, with an electrostatic memory built inside the CRT, were able to store a single sweep for examination, but these were very expensive.</p>

<p>Digital storage oscilloscope (DSOs) convert, store, process and display the signal in digital form, offering a similar service at a much lower price.<br>
However the basic concepts have not changed since the analog era, and the functional diagram reproduces the same signal paths.<p>

<h2 class="bk">4.1 The standard benchtop oscilloscope</h2>
<img src="tektronix_tds220.png">
<p>Legacy analog oscilloscope had one knob for each parameter and one push button for each option - this was very user-friendly but expensive and bulky.<br>Modern instrument have knobs for the most frequently used parameters, and buttons for selecting on-screen menus for less frequent adjustments. Pocket instruments may have as little as one single knob and four buttons.</p>
<p>In the standard layout controls are normally distributed in 4 zones:</p>
<ul><li>Vertical : input channels</li>
<li>Horizontal : time base</li>
<li>Trigger : synchronization of the horizontal sweeping</li>
<li>Utilities : display options, measurements, cursors</li>
</ul>
<h3>4.1.1 Vertical controls</h3>
<p>There is one vertical control panel for each input channel, in the example above we have a 2-channel oscilloscope. Each channel has a coaxial input connector, the most common type is the BNC connector.</p>
<p>Two main knobs are always present : the vertical scale (Volts/div) and the vertical position. In spite of being digitally handled, these buttons control analog circuits : the gain of the input amplifier and the offset voltage which is added to the signal before the analog-to-digital conversion (ADC).</p>
<p>Other controls are possibly carried over an on-screen menu :</p>
<ul><li>Channel On/Off</li>
<li>Coupling (DC/AC) switch : DC is the "normal" option. The AC position inserts a capacitor in the input signal path, in order to remove the DC component. This is very useful when people need to observe small variations (AC) of a signal having a large quiescent value (DC)</li>
<li>X1/X10 switch : this switch allows to make the displayed value of the vertical scale consistent with the type of probe in use. It has no effect on the signal path.</li>
<li>Low pass filter : used to remove high frequency noise</li>
</ul>
<h3 class="bk">4.1.2 Horizontal controls</h3>
<p>Two main knobs are always present : the horizontal scale (seconds/div) and the horizontal position.</p>
<p>The horizontal scale controls the sampling period, which is the time interval between consecutive analog-to-digital conversions (this is derived from the number of samples per division, which is not usually accessible to the user).</p>
<p>The horizontal position controls the position of the trigger instant on the horizontal space, this instant is made visible by an arrow normally placed on the top edge of the graphics window area, unless it is outside this window.<br>
Note: if the sample memory contents were displayed simply from the beginning to the end, the trigger instant would be stuck to the left edge of the graphics like in legacy oscilloscopes. A special memory management scheme called "circular buffer" allows to move this instant, actually displaying samples which were acquired before the trigger event.</p>
<h3>4.1.3 Trigger controls</h3>
<p>The main knob is the level control, which determines the threshold voltage. A trigger event is generated when the signal crosses this threshold in a determined direction (rising or falling). This level is made visible by an arrow normally placed on the right edge of the graphics window area, unless it is outside this window.</p>
<p>Other controls are possibly carried over an on-screen menu :</p>
<ul><li>Source : one channel may be chosen as a source for the trigger signal, alternately an auxiliary signal input may be used as an external trigger source</li>
<li>Slope or Edge: the rising edge or the falling edge</li>
<li>Sweeping mode :<ul>
<li>Normal : each time the sweeping reaches the end of the window, the process is paused, waiting for the next trigger event.<br>
Note: if the signal does not cross the trigger threshold, the display remains frozen.</li>
<li>Auto : After a limited waiting time, the sweeping is forced to restart instead of remaining frozen, in order to let the user keep an eye on the signal while adjusting the trigger parameters</li>
<li>Single : after a single triggered sweep, the display remains frozen until the user manually restarts the process, by pushing the Run/Stop button</li></ul></li>
</ul>
<p>The Run/Stop button is used to pause the sweeping, or to restart it, notably in the case of the single sweep mode.</p>
<h3>4.1.4 Utilities</h3>
<p>These are miscellaneous functions which may include :</p>
<ul><li>Measurements : the instrument displays measurements computed from the contents of the sample memory, like peak values, average value, RMS value, peak-to-peak amplitude, estimated frequency, etc...</li>
<li>Cursors or Markers : the instrument lets the user draw cursors on the graphics and read their positions and distances</li>
<li>Signal processing functions, like averaging consecutive sweeps in order to remove noise, or computing a spectrum using Fourier Transform (FFT)</li>
<li>Display preferences</li>
</ul>

<h2 class="bk">4.2 The PC-based oscilloscope</h2>
<p>Another approch permitted by the digital technology is to make a "black box" containing the specific hardware like input amplifiers with gain control, ADCs, sample memory, trigger detectors, time base, and to connect this to a standard computer where the user interface and graphics display will take place.</p>
<h3>4.2.1 Pros and Cons</h3>
<ul><li>Benefits :<ul><li>lower cost</li>
<li>possible extension of graphics capabilities, resolution, colors etc...</li>
<li>easier post-processing and archiving of results, including custom software development</li>
<li>possible inclusion of other instruments in the same black box, example: a signal generator</li>
</ul></li>
<li>Disadvantages:<ul><li>no knob, all parameters in menus, this ends up requiring more actions from the user for a given task in a professional context</li>
<li>more sophisticated user interface wich may be confusing for the new user</li>
<li>screen updated with a noticeable latency (delay)</li> 
<li>occupation of more space on the laboratory bench</li>
</ul></li>
</ul>
<h3>4.2.2 An example : the Picoscope</h3>
<p>The <a href="https://www.picotech.com">Picoscope</a> is a black box with coaxial BNC inputs for the signals, and a USB connexion to the computer. It comes with a specific application software, which presents the 4 control zones of a standard digital oscilloscope described above.</p>
<img src="picoscope_7.png">
<p class="bk">On the screen image above, one can see :</p>
<ul><li>Run/Stop button : the green button on the top left corner, which turns red when the acquisition is paused</li>
<li>Vertical : along the left border, the channel buttons, labelled from A to D<br>
pressing one of these buttons causes the corresponding channel menu to be displayed,<br>
the '-' and '+' allow a quicker change of the vertical scale setting</li>
<li>Horizontal : on the top border, the "Scope" button giving access to the timebase menu,<br>
the '-' and '+' allow a quicker change of the seconds/div setting</li>
<li>Trigger : on the top border, the "Trigger" button giving access to the trigger menu,<br>
the '-' and '+' allow a quicker change of the trigger level setting</li>
<li>Utilities : among many utilities, the Measurements and the Rulers (cursors) give services similar to their counterpart on the benchtop oscilloscope</li>
</ul>
<p>The user must be aware of some disturbing differences with respect to the standard oscilloscope:</p>
<ul>
<li>the vertical scale is represented as a full range (exemple +-50mV) instead of volts/div</li>
<li>there is no vertical position control, it is replaced by an offset setting in the Display tab of the vertical menu, it is expressed in % instead of volts, its range is restricted to +-90%</li>
<li>the trigger level and trigger horizontal position are represented together by a diamond shaped symbol in the middle of the graphics instead of the arrows along the sides</li>
<li>the trigger level is restricted to the vertical range</li>
<li>the trigger instant is expressed in % instead of seconds and is restricted to acquisition time span</li>
</ul>
<p>IMPORTANT WARNING : PC based oscilloscope offer some king of zooming on the displayed graphics. This should not be confused with actions on the vertical and horizontal acquisition scales:
<ul><li>Zooming changes only the way stored data are displayed</li>
<li>Changing the acquisition scales is taken into account at the next acquisition, the resolution of which is then modified, possibly offering more detail</li>
</ul>

<h2>4.3 The oscilloscope probe</h2>
<p>A measurement instrument should have a minimal impact on the system under test, for this reason the input current of the oscilloscope probe should be minimized. A widespread solution is the "X10" probe :</p>
<img src="oscilloscope_probe.jpg" width="50%">
<p class="bk">The probe attenuates the signal by a factor of 10, so the signal is actually multiplied by 0.1, while the Volts/Div setting is multiplied by 10, whence the "X10" label.<br>
The attenuation being done by a voltage divider, the input resistance is multiplied by 10, resulting in an input current divided by 10.</p>
<img src="oscilloscope_probe_sch.png">
<p>The oscilloscope channel exposes a standard input resistance of 1 MOhm (1000000 Ohms), so putting a 9 MOhms resistor in series makes a voltage divider, dividing the signal by 10.<br>
This attenuation may be disabled by a switch short-circuiting this resistor.</p>
<p>In high frequencies, the capacitances interfere with the signal attenuation ratio, so the C1 capacitor is inserted in the probe tip in order to make a capacitive voltage divider together with C2 = C_cable + C_adj + C_input.<br>
C_adj is an adjustable capacitor allowing to precisely match the capacitive attenuation with the resistive attenuation of 1/10.</p>

<h2>4.4 The aliasing issue</h2>
<p>Digital instruments periodically sample the signal. The sampling theory (Nyquist–Shannon theorem) states that the sampling frequency should be greater than twice the signal frequency.</p>
<p>If the original signal frequency exceeds half the sampling frequency, an alteration known as "aliasing" causes the sampled signal to expose a wrong frequency. This is also known as "stroboscopic effect" or "wagon-whell effect".</p>
<img src="sampler.png">
<p>In the example above, an input signal is sampled by means of a MOS transistor and a capacitor. The MOS transistor works like a switch, which is driven by a periodic signal composed of short pulses at 10 KHz. Each sampler keeps the sampled value constant for an entire sampling period to permit the ADC operation. This creates the typical staircase aspect.</p>
<p>Two samplers are simulated simultaneously for comparison purpose.</p>
<ul><li>The top sampler receives a 400 Hz signal at its input, its output presents an acceptable sampled representation of the input signal.</li>
<li>The bottom sampler receives a 9500 Hz signal, but its output presents a wrong frequency of 500 Hz only, which is called an "alias" of the original signal. This happens because the input frequency is greater than half the sampling frequency.</li>
</ul>
<p>If a periodic signal is observed with a seconds/div setting which is thousands times greater than the signal period, the digital oscilloscope may display the signal with an totally wrong apparent frequency, with no kind of warning.</p>
<p>If the signal frequency is totally unknown, it is advisable to start observing it with the smallest seconds/div setting and then increasing it until obtaining a convenient display.</p> 
<a href="sampler.asc">LTSPICE source file for the illustration</a>


<h3>Theory links :</h3>
<ul>
<li><a href="tyco_oscilloscope_course.pdf">the Oscilloscope Course by Tyco</a></li>
<li><a href="https://en.wikipedia.org/wiki/Circular_buffer">en.wikipedia.org/wiki/Circular_buffer</a></li>
<li><a href="https://en.wikipedia.org/wiki/Stroboscopic_effect">en.wikipedia.org/wiki/Stroboscopic_effect</a></li>
<li><a href="https://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem">en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem</a></li>
</ul>


 
</div>
</body>
</html>